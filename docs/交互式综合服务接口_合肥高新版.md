<div style="text-align:center; font-size:1cm; font-family:WenQuanYi Micro Hei;">交互式综合服务接口设计说明</div>
<div style="text-align:center; font-size:0.8cm; font-family:WenQuanYi Micro Hei;">（合肥开发区版）</div>
<div style="text-align:center; font-size:0.6cm; font-family:WenQuanYi Micro Hei;">(The Description of Interactive Integrated Services Interface)</div>

<br>

<!-- toc orderedList:0 depthFrom:1 depthTo:6 -->

* [2. 基础信息类](#2-基础信息类)
    * [2.5 故障基础信息查询](#25-故障基础信息查询)
    * [2.7 主设备基础信息返回](#27-主设备基础信息返回)
* [4. 数据查询类](#4-数据查询类)
    * [4.1 终端数据查询](#41-终端数据查询)
    * [4.3 单灯集中器数据查询](#43-单灯集中器数据查询)
    * [4.4 现存/历史故障查询](#44-现存历史故障查询)

<!-- tocstop -->

- 所有接口采用 HTTP 协议 post 方式请求, 地址格式为`http://ip:port/interface_name`  
- 提交的参数和返回数据格式为 Google Protocol Buffer ( protobuf ) 协议序列化后再经由 base64 编码得到的字符串  
- 所有请求以及返回中的时间字段均采用Linux时间戳格式,精确到秒,int64类型

- protobuf 协议格式说明  
	> 协议采用 proto3 格式编写,使用 protoc v3.0 beta2 编译

- 头结构:

> 该头结构将插入每个请求或返回的协议结构体中  
> 协议类名加前缀 "rq" 表示客户端->服务端,无前缀表示服务端->客户端

```protobuf
message Head {
    int64 idx = 1;  // 序号(必填)，默认0
    int32 ver = 2;  // 协议版本(必填,默认为协议发布日期6位整型)。当前版本为 160328
    string if_name = 3;  // 接口名称(可选)
    string unique = 5;  // 移动设备唯一标示(移动设备填充,可以由服务器配置文件设置是否校验)，非移动设备不填
    int64 if_dt = 100;  // 请求或返回时间(必填)
    int32 if_st = 101;  // 接口操作状态(返回必填)
                            // 1-操作成功, 0-操作失败, 原因参考msg, 10-用户未登录或超时(0.5h),请求被拒绝, 11-用户权限不足,12-用户登录ip非法,需重新登录
                            // 41-数据库连接失败,42-指令提交失败(socket pool),43-第三方接口调用失败,45-数据库提交失败,46-参数错误,47-用户登录用户名或密码错
			    // 99-接口参数暂不支持
    string if_msg = 102;  // 返回填写，失败时填充详细原因(可选)
    repeated string msg_filter = 103;  // 返回填写，调用接口后可能产生的消息过滤器，仅对设备操作类型接口有效，如终端开关灯、选测，客户端可以动态设置这些过滤器用来获得精准推送
    int32 paging_num = 200;  // 此次请求/应答是否使用分页(仅对非参数数据查询类接口有效,'query'开头的接口),0-不使用,大于0时使用,但是,若客户端请求的赋值>100或数据总量大于100,服务端按照100进行强制分页
    int32 paging_idx = 201;  // 分页序号,从1开始,当序号大于分页总数时返回空
    int32 paging_total = 202;  // 服务端返回该次请求产生的分页总数(客户端请求数据时不填充)
    int64 paging_buffer_tag = 203;  // 分页缓存标签,0-要求服务器重建缓存,xx-根据服务器返回的tag从对应缓存读取数据
    int32 paging_record_total = 204;  // 返回填写，查询记录总数
}
```

- 通用应答  
	> 通用应答仅包含head信息，用于不需要添加附加数据的场合

```
message CommAns {
    Head head = 1;  // 协议头信息
}
```
- uuid参数
    > 所有接口中需要提交的uuid参数，使用`9b5fa534733311e7a88ffcaa14e489ec`这个固定值。


### 2. 基础信息类

#### 2.5 故障基础信息查询

- 接口名称: errinfo  
	> 获得系统故障名称,自定义名称,报警模式等信息

- 权限需求：

	- 需要用户具有读权限

- 参数:

	1.	uuid - 登录成功获得的动态id  
	2.	pb2 - 详细参数(结构如下)

```protobuf
message rqErrInfo {
    Head head = 1;
}
```

- 返回:

```protobuf
message ErrInfo {
    message ErrInfoView {
        int32 err_id = 1;  // 故障id
        string err_name = 2;  // 故障名称
        string err_name_custome = 3;  // 自定义名称
        string err_remark = 4;  // 故障解释
        int32 err_level = 5;  // 故障等级,1-写db,不推送,0-推送,2-推送置顶,3-
        int32 enable_alarm = 6;  // 允许报警
        string err_check_keyword = 7;  // 数字用关键字
        int32 err_time_set = 8;  // 时段报警0-全天,1-开灯,2-关灯,3-自定义
        int32 dt_err_custome_start = 9;  // 自定义时段开始
        int32 dt_err_custome_end = 10;  // 自定义时段结束
    }
    Head head = 1;
    repeated ErrInfoView err_info_view = 2;
}
```

---

#### 2.7 主设备基础信息返回

- 接口名称: tmlinfo  
	> 获取各类设备的基本参数以及工作参数  
	> 设备信息以模块为节点,与模块直接通信的设备均为主设备,下挂在模块下,通过终端485通信的设备或各类末端为附属设备,下挂在对应设备下 tml-泛指各类设备,rtu-路灯终端,als-光照度,slu-单灯,ldu-防盗,mru-抄表,esu-节能,com-模块

- 权限需求：

	- 需要用户具有读权限

- 参数:

	1.	uuid - 登录成功获得的动态id  
	2.	pb2 - 详细参数(结构如下)

```protobuf
message rqTmlInfo {
    Head head = 1;
    repeated int32 data_mark = 5 [packed=true];  // 请求数种类,1-baseinfo,2-gisinfo,3-updateinfo(仅填充baseinfo中的tml_id,tml_dt_update两个字段),4-rtuinfo,5-sluitemgrpinfo,6-sluinfo,11-slubaseinfo(单灯简要信息)
    repeated int32 tml_id = 6 [packed=true];  // 请求的设备逻辑id, 留空-返回所有数据
}
```

- 返回:

```protobuf
message TmlInfo {
    message BaseInfo {
        int32 tml_id = 1;  // 设备逻辑地址
        int64 phy_id = 2;  // 设备物理地址
        int32 tml_type = 3;  // 设备型号,1-终端,2-防盗,3-节能,4-抄表,5-光控,6-单灯,7-漏电
        int32 tml_st = 4;  // 设备状态,0-不用,1-停运,2-启用
        string tml_name = 5;  // 设备名称
        string tml_com_sn = 6;  // 设备模块序列号(可以为sim卡号,需要出厂设置)
        int32 tml_com_ip = 7;  // 模块ip地址(绑定ip时可设置,否则无意义)
        int32 tml_model = 8;  // 设备型号,3005,3006,2090,3090等
        int32 tml_parent_id = 9;  // 父设备id
        int64 tml_dt_setup = 10;  // 安装日期
        string tml_desc = 11;  // 备注
        int64 tml_dt_update = 12;  // 最后更新时间
        string tml_street = 13;  // 安装位置
        string tml_guid=14;  // 唯一识别号
    }
    message GisInfo {
        int32 tml_id = 1;  // 设备逻辑地址
        double tml_pix_x = 5;  // 位图x坐标
        double tml_pix_y = 2;  // 位图y坐标
        double tml_gis_x = 3;  // gis x坐标
        double tml_gis_y = 4;  // gis y坐标
    }
    message RtuInfo {
        int32 tml_id = 1;  // 设备逻辑地址
        int32 heart_beat = 2;  // 心跳周期,(单位分钟,默认60)(界面建议不呈现)
        int32 active_report = 3;  // 主报周期,(单位分钟,默认260)(界面建议不呈现)
        int32 alarm_delay = 4;  // 报警延迟,(单位秒,默认15)(界面建议不呈现)
        repeated int32 work_mark = 5 [packed=true];  // 工作标志(界面建议不呈现),默认[1,0,0,1,1,1,0,1],0-false,1-true,[允许滚动显示(),允许声响报警,禁止报警,允许呼叫,允许开机申请,允许自检,禁止主报,禁止路由]
        int32 voltage_range = 6;  // 电压量程 -
        int32 voltage_uplimit = 7;  // 电压上限
        int32 voltage_lowlimit = 8;  // 电压下限
        int32 loop_st_switch_by_current = 9;  // 采用电流判断是否吸合，0-不采用，1-采用
        repeated RtuLoopItem loop_item = 12;  // 回路信息
    }
    message SluInfo {
        int32 tml_id = 1;  // 设备逻辑地址
        int32 slu_auto_alarm = 2;  // 允许主报,0-false,1-true
        int32 slu_auto_patrol = 3;  // 允许巡测,0-false,1-true
        int32 slu_auto_resend = 4;  // 允许自动补发指令,0-false,1-true
        int32 slu_suls_num = 5;  // 控制器数量
        int32 slu_bt_pin = 6;  // 蓝牙pin码,默认62547600
        int32 slu_domain = 7;  // 域名,1-65535
        int32 slu_voltage_uplimit = 8;  // 电压报警上限,默认300
        int32 slu_voltage_lowlimit = 9;  // 电压报警下限,默认170
        int64 slu_zigbee_id = 10;  // zigbee地址
        int32 slu_comm_fail_count = 11;  // 通信失败报警,1-50,默认5
        double slu_power_factor = 12;  // 功率因数报警,0.4-1.0,默认0.6,发送时*100
        repeated int32 slu_zigbee_comm = 13 [packed=true];  // 通信信道,1-16,可输入多个
        double slu_current_range = 14;  // 电流量程,0.1~20A,发送时*10
        int32 slu_power_range = 15;   // 功率量程,10~2000W,发送时/10
        double slu_lon = 16;  // 经度
        double slu_lat = 17; // 纬度
        int32 slu_route = 18;  // 路由模式,1-5,默认1
        int32 slu_is_zigbee = 19;  // 是否zigbee通信,0-载波,1-zigbee
        int32 slu_saving_mode = 20;  // 节能方式,1-pwm,2-485,默认1
        int32 slu_pwm_rate = 21;  // pwm频率或485波特率
        int32 slu_off_line = 23;  // 停运,0-false,1-true
        repeated SluItemInfo sluitem_info = 22;
    }
    message RtuLoopItem {
        int32 loop_id = 1;  // 回路序号
        string loop_name = 2;  // 回路名称
        int32 loop_phase = 3;  // 回路电压相位,0-a,1-b,2-c
        int32 loop_current_range = 4;  // 回路电流量程
        int32 loop_switchout_id = 7;  // 回路对应的开关量输出id(1-16), 0-表示无对应开关量输出
        string loop_switchout_name = 8;  // 开关量输出名称
        int32 loop_switchout_vector = 9;  // 开关量输出矢量
        int32 loop_switchin_id = 10;  // 回路模拟量输入id
        int32 loop_switchin_vector = 11;  // 回路对应的模拟量矢量(1-36)
        int32 loop_transformer = 12;  // 回路互感器比值
        int32 loop_transformer_num = 13;  // 回路互感器圈数(默认1)
        int32 loop_step_alarm = 14;  // 回路跳变报警
        int32 loop_st_switch = 15;  // 0-常开,1-常闭,默认1
        int32 loop_is_shield=16;  // 回路是否屏蔽,0-不屏蔽,1-屏蔽
        int32 shield_small_current=17;  // 屏蔽小电流，0-表示不屏蔽，>0 表示低于设定值的电流屏蔽显示
        double loop_light_rate_bm = 18;  // 亮灯率基准值
        double loop_light_rate_alarm = 19;  // 亮灯率报警值
        int32 current_uplimit = 20;  // 回路电流主动上限报警值
        int32 current_lowlimit = 21;  // 回路电流主动下限报警值
    }
    message SluitemGrpInfo {
        message SluitemGrpView {
            int32 grp_id = 2;  // 分组id
            string grp_name = 3;  // 分组名称
            int64 dt_update = 4;  // 最后修改时间
            repeated int32 sluitem_id = 5 [packed=true];  // 该组控制器序号列表
        }
        int32 slu_id = 1;  // 集中器地址
        repeated SluitemGrpView sluitem_grp_view = 2;
    }
    message SluItemInfo {
        int64 sluitem_barcode = 2;  // 条码
        int32 sluitem_power_uplimit = 3;  // 功率上限
        int32 sluitem_power_lowlimit = 4;  // 功率下限
        repeated int32 sluitem_route = 5 [packed=true];  // 控制器路由(前4级通信控制器编号1,2,3...)
        int32 sluitem_order = 6;  // 开灯序号
        repeated int32 sluitem_st_poweron = 7 [packed=true];  // 4路上电状态,0-关灯,1-开灯,默认[1,1,1,1]
        int32 sluitem_st = 8;  // 控制器状态,0-停运,1-投运
        int32 sluitem_alarm = 9;  // 控制器主报,0-不允许,1-允许
        repeated int32 sluitem_vector = 10 [packed=true];  // 4路矢量,默认[1,2,3,4]
        int32 sluitem_loop_num = 11; // 回路数量
        repeated int32 sluitem_rated_power = 12 [packed=true];  // 4路额定功率(w),0-不设置,1-0:20,2-76:100,3-101:120,4-121:150,5-151:200,6-201:250,7-251:300,8-301:400,9-401:600,10-601:800,11-800:1000,12-1001:1500,13-1501:2000,14-21:50,15-51:75
        string sluitem_name = 13;  // 名称
        int32 sluitem_id = 14;  // 地址,唯一,不可变
        int32 sluitem_phy_id = 15; // 物理地址,可变
        string sluitem_lamp_id = 16;  // 灯杆编号/名称
        double sluitem_gis_x = 17;  // x坐标
        double sluitem_gis_y = 18;  // y坐标
    }
    Head head = 1;
    repeated BaseInfo base_info = 12;  // 设备基础信息
    repeated GisInfo gis_info = 13;  // 设备地理信息
    repeated RtuInfo rtu_info = 15;  // 终端设备填充
    repeated SluInfo slu_info = 16;  // 单灯设备填充
    repeated SluitemGrpInfo sluitem_grpinfo = 21;  // 单灯分组信息填充
    repeated int32 data_mark = 3 [packed=true];  // 请求数种类,1-baseinfo,2-gisinfo,3-updateinfo(仅填充baseinfo中的tml_id,tml_dt_update两个字段),4-rtuinfo,5-sluitemgrpinfo,6-sluinfo,11-slubaseinfo(单灯简要信息)
}
```

---

### 4. 数据查询类

#### 4.1 终端数据查询

- 接口名称: querydatartu  
	> 终端数据查询

- 权限需求：

	- 时钟召测需要用户具有读权限

- 参数:

	1.	uuid - 登录成功获得的动态id  
	2.	pb2 - 详细参数(结构如下)

```protobuf
message rqQueryDataRtu {
    Head head = 1;
    int64 dt_start = 5;  // 起始年月日时间,转换为long传输(1970-1-1开始的秒数)
    int64 dt_end = 6;  // 结束年月日时间,转换为long传输(1970-1-1开始的秒数)
    int32 type = 7;  // 类型,0-最新,1-历史
    repeated int32 tml_id = 9 [packed=true];  // 设备id,留空表示全部,可多选
}
```

- 返回:

```protobuf
message QueryDataRtu {
    message LoopView {
        double voltage = 1;  // 电压
        double current = 2;  // 电流
        double power = 3;  // 功率
        double rate = 4;  // 亮灯率
        double factor = 5;  // 功率因数
        int32 switch_in_st = 6;  // 开关量输入状态,0-断,1-通
        int32 voltage_over_range = 7;  // 电压越限,0-正常,1-越下线,2-越上限,3-越量程
        int32 current_over_range = 8;  // 电流越限,0-正常,1-越下线,2-越上限,3-越量程
    	string loop_name = 9;  // 回路名称
    	int32 loop_id = 10;  // 回路id
    }
    message DataRtuView {
        int32 tml_id = 1;
        int64 phy_id = 2;
        string tml_name = 13;  // 设备名称
        int64 dt_receive = 3;  // 数据接收时间
        repeated LoopView loop_view = 4;
        repeated int32 switch_out_st = 5 [packed=true];  // 开关量输出状态
        double current_sum_a = 6;  // A相总电流
        double current_sum_b = 7;  // B相总电流
        double current_sum_c = 8;  // C相总电流
        double voltage_a = 9;  // A相电压
        double voltage_b = 10;  // B相电压
        double voltage_c = 11;  // C相电压
        repeated int32 alarm_st = 12 [packed=true];  // 终端报警状态,共8位,每一位0-正常,1-异常,[供电,开机申请,停运,报警,电压超限,电流超限,无电流,参数错误]
        int32 temperature = 14; // 温度
    }
    Head head = 1;
    int32 type = 2;  // 类型,0-最新,1-历史
    repeated DataRtuView data_rtu_view = 3;
}
```

---

#### 4.3 单灯集中器数据查询

- 接口名称: querydataslu  
	> 单灯数据查询

- 权限需求：

	- 需要用户具有读权限

- 参数:

	1.	uuid - 登录成功获得的动态id  
	2.	pb2 - 详细参数(结构如下)

```protobuf
message rqQueryDataSlu {
    Head head = 1;
    int64 dt_start = 5;  // 起始年月日时间,转换为long传输(1970-1-1开始的秒数)
    int64 dt_end = 6;  // 结束年月日时间,转换为long传输(1970-1-1开始的秒数)
    int32 type = 7;  // 类型,0-最新,1-历史, 当查询最新数据时,tml_id只支持单选,读取第一个值
    repeated int32 tml_id = 9 [packed=true];  // 设备id,留空表示全部,可多选
    int32 data_mark = 10;  // 数据类型标示,0-集中器状态数据,7-控制器数据,6-控制器辅助数据,4-控制器物理信息(暂无)
}
```

- 返回:

```protobuf
message QueryDataSlu {
    message DataSluView {
        int32 tml_id = 1;
        int64 phy_id = 2;
        string tml_name = 10;  // 设备名称
        int64 dt_receive = 3;  // 数据接收时间
        repeated int32 reset_times = 4 [packed=true];  // 连续4天复位次数,[今天,昨天,前天,大前天]
        repeated int32 st_running = 5 [packed=true];  // 集中器状态,[运行状态(0-正常,1-停运),报警状态(0-允许主报,1-禁止主报),开机申请(0-非开机申请,1-开机申请),通信方式(0-485,1-gprs),主动巡测(0-巡测,1-停止巡测)]
        repeated int32 st_argv = 6 [packed=true];  // 集中器参数状态,0-正常,1-出错,[集中器参数,控制器参数,开关灯参数]
        repeated int32 st_hw = 7 [packed=true];  // 硬件参数状态,0-正常,1-出错,[zigbee,电力载波,fram,蓝牙,硬件时钟]
        int32 unknow_sluitem_num = 8;  // 未知控制器数量
        repeated int32 zigbee_channel = 9 [packed=true];  // zigbee信道(1-16)
    }
    message DataSluitemView {
        int32 tml_id = 1;
        int64 phy_id = 2;
        string tml_name = 10;  // 设备名称
        int32 sluitem_id = 11;  // 控制器id
        string sluitem_name = 12;  // 控制器名称
        int64 dt_receive = 3;  // 数据接收时间
        int64 dt_cache = 5;  // 集中器缓存该条数据的时间
        repeated int32 st_sluitem = 6 [packed=true];  // 控制器状态,[继电器校准参数出错(0-正常,1-出错),EEPROM出错(0-正常,1-出错),停运(0-正常,1-停运),禁止主动报警(0-主动报警,1-禁止),设置工作参数(0-未设置,1-已设置),校准(0-未校准,1-已校准),状态(0-正常,1-电压越上限,2-电压越下限,3-通信故障)]
        int32 temperature = 7;  // 温度,255或0表示无测温模块
        repeated DataLampView data_lamp_view = 9;  // 灯头状态,数据
    }
    message DataLampView {
        int32 lamp_id = 8;  // 灯头id
        repeated int32 st_lamp = 1 [packed=true];  // 灯状态,[亮灯状态(0-亮灯,1-调档节能,2-调光节能,3-关灯),故障状态(0-正常,1-光源故障,2-补偿电容故障,3-意外灭灯,4-意外亮灯,5-自熄灯),漏电状态(0-无漏电,1-漏电),功率状态(0-正常,1-功率越上限,2-功率越下限)]
        double lamp_voltage = 2;  // 电压,单位V
        double lamp_current = 3;  // 电流,单位A
        double lamp_power = 4;  // 有功功率,单位W
        double lamp_electricity = 5;  // 累计电量,单位kW/h,0为无效数据
        double lamp_electricity_count = 9;  // 软件计算的累计电量,单位kW/h,0为无效数据
        double lamp_runtime = 6;  // 运行时间,单位分钟
        double lamp_runtime_count = 10;  // 软件计算的运行时间,单位分钟
        double lamp_saving = 7;  // 节能档位0-100%
    }
    message DataSluitemAssistView {
        message SluitemLampData {
            double max_voltage = 1;  // 最大电压
            double max_current = 2;  // 最大电流
            double electricity = 3;  // 累计电流
        }
        message SluitemAssistData {
            int32 sluitem_id = 3;  // 控制器id
            int64 dt_cache = 4;  // 数据缓存时间
            double leackage_current = 5;  // 漏电流
            repeated SluitemLampData sluitem_lamp_data = 6;  // 灯头数据
        }
        int32 tml_id = 1;
        int64 dt_receive = 2;  // 数据接收时间
        repeated SluitemAssistData slutiem_assist_data =3;
    }
    message DataSluitemPhyView {
        int32 tml_id = 1;
        int64 phy_id = 2;
        int64 dt_receive = 3;  // 数据接收时间
        int32 sluitem_id = 4;  // 控制器地址
        int32 signal_strength = 5;  // 信号强度
        int32 routing = 6;  // 路由级数 电力载波 0-6,zigbee 0-10
        int32 phase = 7;  // 所在相位 0-无法确定，1-A，2-B，3-C
        int32 comm_success = 8;  // 通信成功次数 1-16
        int32 comm_all = 9;  // 通信总次数 1-16
        int32 sluitem_loops = 10;  // 控制器回路数量
        int32 power_saving = 11;  // 节能方式 0-无控制，1-只有开关灯，2-一档节能，3-二档节能，4-RS485，5-PWM
        int32 has_leakage = 12;  // 漏电流测量 0-无，1-有
        int32 has_temperature = 13;  // 温度采集 0-无，1-有
        int32 has_timer = 14;  // 时钟 0-无，1-有
        int32 model = 15;  // 型号 0-unknow,1-wj2090j
    }
    Head head = 1;
    int32 data_mark = 2;  // 数据类型标示,同请求
    repeated DataSluView data_slu_view = 3;  // 当data_mark=0时返回
    repeated DataSluitemView data_sluitem_view = 4; // 当data_mark=7时返回
    repeated DataSluitemAssistView data_sluitem_assist_view = 5;  // 当data_mark=6时返回
    repeated DataSluitemPhyView sluitem_phy_view = 6;  // 当data_mark=4时返回
}
```

---

#### 4.4 现存/历史故障查询

- 接口名称: querydataerr  
	> 现存/历史故障查询

- 权限需求：

	- 需要用户具有读权限

- 参数:

	1.	uuid - 登录成功获得的动态id  
	2.	pb2 - 详细参数(结构如下)

```protobuf
message rqQueryDataErr {
    Head head = 1;
    int64 dt_start = 5;  // 起始年月日时间,转换为long传输(1970-1-1开始的秒数)
    int64 dt_end = 6;  // 结束年月日时间,转换为long传输(1970-1-1开始的秒数)
    int32 type = 7;  // 类型,0-现存,1-历史
    repeated int32 tml_id = 9 [packed=true];  // 设备id,留空表示全部,可多选
    repeated int32 err_id = 10 [packed=true];  // 要查询的故障id,留空表示全部,可多选
}
```

- 返回:

```protobuf
message QueryDataErr {
    message ErrView {
        int32 err_id = 1;  // 故障id
        string err_name = 2;  // 故障名称
        // int64 data_create_idx = 3;  // 产生故障的数据记录时间
        // int64 data_remove_idx = 4;  // 消除故障的数据记录时间
        int32 tml_id = 5;  // 产生故障的设备逻辑地址
        int64 dt_create = 6;  // 故障产生时间
        int64 dt_remove = 7;  // 故障消除时间(现存故障时为0)
        int64 phy_id = 8;  // 设备物理地址
        string tml_name = 9;  // 设备名称
        int32 tml_sub_id1 = 10;  // 回路序号 或控制系序号或线路序号
        int32 tml_sub_id2 = 11;  // 灯头序号 等
        string remark = 12;  // 备注
        int32 err_count = 13;  // 一定时间内的重复报警次数
    }
    Head head = 1;
    int32 type = 2;  // 类型,0-现存,1-历史
    repeated ErrView err_view = 3;
}
```
